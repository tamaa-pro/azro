<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>قائمة التطبيقات</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{--bg-primary:#121212;--bg-secondary:#1e1e1e;--bg-tertiary:#1c1c1c;--text-primary:#e0e0e0;--text-secondary:#a0a0a0;--accent:#4CAF50;--accent-hover:#3e8e41}
body{background:var(--bg-primary);color:var(--text-primary);font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px}
.container{max-width:900px;margin:auto;display:flex;flex-direction:column;gap:20px}
.card{background:var(--bg-secondary);border-radius:10px;padding:15px;cursor:pointer;transition:background .3s}
.card:hover{background:#2a2a2a}
.card-top{display:flex;align-items:center;gap:15px;margin-bottom:10px}
.card-top img{width:64px;height:64px;border-radius:12px;object-fit:cover;border:2px solid var(--bg-tertiary)}
.card-info h2{margin:0;font-size:18px;color:var(--accent)}
.card-info p{margin:3px 0 0 0;font-size:14px;color:var(--text-secondary)}
.card-desc{background:var(--bg-tertiary);padding:10px;border-radius:8px;font-size:14px;color:var(--text-primary);margin-bottom:8px}
.card-date{font-size:12px;color:var(--text-secondary)}
.loading{text-align:center;padding:40px}
.footer{text-align:center;margin-top:40px;padding:15px;color:var(--text-secondary);font-size:14px}
</style>
</head>
<body>
<div class="container" id="appsList">
<div class="loading"><i class="fas fa-spinner fa-spin"></i> جاري تحميل التطبيقات...</div>
</div>
<div class="footer">Powered by TAMAA PRO STUDIO</div>
<script>
const jsonBinUrl="https://api.jsonbin.io/v3/b/68b5a02ed0ea881f406e0b94";
const apiKey="$2a$10$F5TR7pSKPRRNAeBzsdxQ4.NYog8xHGUi0hektkor0q/QWFVXzba3q";
async function fetchApps(){const res=await fetch(jsonBinUrl,{headers:{"X-Master-Key":apiKey}});return res.json()}
async function loadApps(){
try{
const data=await fetchApps();const apps=data.record.applications;
if(!apps||apps.length===0){document.getElementById("appsList").innerHTML="<p>لا توجد تطبيقات مرفوعة حاليا</p>";return}
const list=apps.map(app=>`
<div class="card" onclick="openApp('${app.package}')">
  <div class="card-top">
    <img src="${app.icon}" alt="icon">
    <div class="card-info">
      <h2>${app.name}</h2>
      <p>${app.developer}</p>
    </div>
  </div>
  <div class="card-desc">${app.shortDesc}</div>
  <div class="card-date">تاريخ الرفع: ${app.uploadDate}</div>
</div>`).join("");
document.getElementById("appsList").innerHTML=list
}catch(err){document.getElementById("appsList").innerHTML="<p>❌ خطأ في تحميل التطبيقات</p>"}}
function openApp(pkg){window.location.href=`https://tamaa-pro.github.io/azro/tazazt/download_app?${pkg}`}
loadApps();
</script>
</body>
</html>
